(this["webpackJsonpreact_dynamic-list-of-todos"]=this["webpackJsonpreact_dynamic-list-of-todos"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},16:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var o=n(9),s=n.n(o),c=n(8),r=n(2),i=n(3),a=n(5),l=n(4),d=n(1),u=n.n(d),h=(n(14),n(15),n(16),n(7)),j=n.n(h),p=n(0),b=function(e){var t=e.todos,n=e.activeTodoId,o=e.filterQuery,s=e.showTodos,c=e.onRandomizer,r=e.handleShowTodos,i=e.handleFilterQuery,a=e.handleClick,l=e.handleChange;return Object(p.jsxs)("div",{className:"TodoList",children:[Object(p.jsx)("h2",{children:"Todos:"}),Object(p.jsxs)("div",{className:"TodoList__list-container",children:[Object(p.jsx)("input",{type:"text",className:"TodoList__item inputFilter",placeholder:"Filter the todos by title",value:o,onChange:i}),Object(p.jsxs)("select",{className:"TodoList__item select",value:s,onChange:r,children:[Object(p.jsx)("option",{value:"all",children:"All"}),Object(p.jsx)("option",{value:"active",children:"Active"}),Object(p.jsx)("option",{value:"completed",children:"Completed"})]}),Object(p.jsx)("button",{className:"button",type:"button",onClick:function(e){return c(e)},children:"Randomize"}),Object(p.jsx)("ul",{className:"TodoList__list",children:t.map((function(e){var t=e.id,o=e.userId,s=e.title,c=e.completed;return Object(p.jsxs)("li",{className:j()("TodoList__item",{"TodoList__item--unchecked":!c},{"TodoList__item--checked":c}),children:[Object(p.jsxs)("label",{children:[Object(p.jsx)("input",{type:"checkbox",checked:c,readOnly:!0,onChange:function(e){return l(e,t)}}),Object(p.jsx)("p",{children:s})]}),Object(p.jsxs)("button",{className:j()({"TodoList__user-button":n!==t},{"TodoList__user-button--selected":n===t},"button"),type:"button",onClick:function(e){return a(e,o,t)},children:["User\xa0#",o]})]},t)}))})]})]})},v=function(e,t){return fetch("".concat("https://mate.academy/students-api").concat(e),t).then((function(e){return e.ok?e.json():new Error("".concat(e.status," - ").concat(e.statusText))}))},m=(n(18),function(e){Object(a.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={user:null},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.requestGetUser()}},{key:"componentDidUpdate",value:function(e){e.userId!==this.props.userId&&this.requestGetUser()}},{key:"requestGetUser",value:function(){var e,t=this;(e=this.props.userId,v("/users/".concat(e))).then((function(e){t.setState({user:e})}))}},{key:"render",value:function(){var e=this,t=this.state.user;return Object(p.jsxs)("div",{className:"CurrentUser",children:[Object(p.jsx)("h2",{className:"CurrentUser__title",children:Object(p.jsxs)("span",{children:["Selected user:\xa0",null===t||void 0===t?void 0:t.id]})}),Object(p.jsx)("h3",{className:"CurrentUser__name",children:null===t||void 0===t?void 0:t.name}),Object(p.jsx)("p",{className:"CurrentUser__email",children:null===t||void 0===t?void 0:t.email}),Object(p.jsx)("p",{className:"CurrentUser__phone",children:null===t||void 0===t?void 0:t.phone}),Object(p.jsx)("button",{className:"CurrentUser__clear button",type:"button",onClick:function(t){return e.props.handleClick(t,0,0)},children:"Clear"})]})}}]),n}(u.a.Component)),f=function(e){Object(a.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={todos:[],selectedUserId:0,isActiveTodoId:0,filterQuery:"",showTodos:"all"},e.onRandomizer=function(t){t.preventDefault(),e.setState((function(e){return{todos:e.todos.sort((function(){return Math.random()-.5}))}}))},e.setFilterValue=function(t){var n=t.target;e.setState({filterQuery:n.value})},e.setShowTodos=function(t){var n=t.target;e.setState({showTodos:n.value})},e.setSelectedUserId=function(t,n,o){t.preventDefault(),e.setState({selectedUserId:n,isActiveTodoId:o})},e.setCompletedTodo=function(t,n){var o=t.target;e.setState((function(e){return{todos:e.todos.map((function(e){return e.id===n?Object(c.a)(Object(c.a)({},e),{},{completed:o.checked}):e}))}}))},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;v("/todos").then((function(t){e.setState({todos:t})}))}},{key:"render",value:function(){var e,t=this.state,n=t.todos,o=t.selectedUserId,s=t.isActiveTodoId,c=t.filterQuery,r=t.showTodos;switch(r){case"active":e=n.filter((function(e){return!e.completed}));break;case"completed":e=n.filter((function(e){return e.completed}));break;default:e=n}var i=e.filter((function(e){var t=e.title;return null===t||void 0===t?void 0:t.toLowerCase().includes(c.toLowerCase())}));return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)("div",{className:"App__sidebar",children:Object(p.jsx)(b,{todos:i,activeTodoId:s,filterQuery:c,showTodos:r,onRandomizer:this.onRandomizer,handleShowTodos:this.setShowTodos,handleFilterQuery:this.setFilterValue,handleClick:this.setSelectedUserId,handleChange:this.setCompletedTodo})}),Object(p.jsx)("div",{className:"App__content",children:Object(p.jsx)("div",{className:"App__content-container",children:o?Object(p.jsx)(m,{userId:o,handleClick:this.setSelectedUserId}):"No user selected"})})]})}}]),n}(u.a.Component);s.a.render(Object(p.jsx)(f,{}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.79a3b2e4.chunk.js.map